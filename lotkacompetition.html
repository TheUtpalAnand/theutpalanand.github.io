<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lotka-Volterra Competition Model</title>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <style>
        body {
            font-family: Arial, sans-serif;
        }
        header {
            text-align: center;
            margin: 20px;
        }
        .input-container {
            text-align: center;
            margin: 20px;
        }
        #plot {
            width: 100%;
            height: 600px;
        }
    </style>
</head>
<body>
    <header>
        <h1>TheUtpalAnand</h1>
        <h2>Lotka-Volterra Competition Model</h2>
    </header>

    <div class="input-container">
        <label for="N1">Initial Population of Species 1 (N1):</label>
        <input type="number" id="N1" value="70"><br><br>
        <label for="N2">Initial Population of Species 2 (N2):</label>
        <input type="number" id="N2" value="175"><br><br>
        <button onclick="generatePlot()">Generate Graph</button>
    </div>

    <div id="plot"></div>

    <script>
        // Constants for the system
        const k1 = 200, k2 = 300, a12 = 0.8, a21 = 2;
        const r1 = 1, r2 = 0.5;

        function lotkaVolterra(t, z) {
            const [N1, N2] = z;
            const dN1dt = r1 * N1 * (k1 - N1 - (a12 * N2)) / k1;
            const dN2dt = r2 * N2 * (k2 - N2 - (a21 * N1)) / k2;
            return [dN1dt, dN2dt];
        }

        function generatePlot() {
            const initial_N1 = parseFloat(document.getElementById("N1").value);
            const initial_N2 = parseFloat(document.getElementById("N2").value);
            
            const tSpan = [0, 100];
            const tEval = Array.from({length: 500}, (_, i) => i * 0.2);
            const results = [];

            for (let t = 0; t < tEval.length; t++) {
                const time = tEval[t];
                const N1 = initial_N1 * Math.exp((r1 * (1 - (initial_N1 / k1)) - a12 * initial_N2) * time);
                const N2 = initial_N2 * Math.exp((r2 * (1 - (initial_N2 / k2)) - a21 * initial_N1) * time);
                results.push([N1, N2]);
            }

            const N1_values = results.map(point => point[0]);
            const N2_values = results.map(point => point[1]);

            const trace = {
                x: N1_values,
                y: N2_values,
                mode: 'lines',
                type: 'scatter',
                name: 'Trajectory',
                line: {color: 'red'}
            };

            const layout = {
                title: 'Lotka-Volterra Competition Model',
                xaxis: {title: 'N1 (Species 1)'},
                yaxis: {title: 'N2 (Species 2)'},
                showlegend: true
            };

            Plotly.newPlot('plot', [trace], layout);
        }
    </script>
</body>
</html>
